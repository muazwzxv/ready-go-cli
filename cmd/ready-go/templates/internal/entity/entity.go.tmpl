// Package entity contains the domain entities representing core business objects.
package entity

import (
	"time"
)

// {{.SampleAPIName}}Status represents the current state of a {{.SampleAPINameLower}}
type {{.SampleAPIName}}Status string

const (
	{{.SampleAPIName}}StatusActive   {{.SampleAPIName}}Status = "active"
	{{.SampleAPIName}}StatusInactive {{.SampleAPIName}}Status = "inactive"
	{{.SampleAPIName}}StatusArchived {{.SampleAPIName}}Status = "archived"
)

// IsValid checks if the {{.SampleAPINameLower}} status is valid
func (s {{.SampleAPIName}}Status) IsValid() bool {
	switch s {
	case {{.SampleAPIName}}StatusActive, {{.SampleAPIName}}StatusInactive, {{.SampleAPIName}}StatusArchived:
		return true
	default:
		return false
	}
}

// String returns the string representation of {{.SampleAPIName}}Status
func (s {{.SampleAPIName}}Status) String() string {
	return string(s)
}

// {{.SampleAPIName}} represents a {{.SampleAPINameLower}} entity
type {{.SampleAPIName}} struct {
	ID          int64                `db:"id" json:"id"`
	Name        string               `db:"name" json:"name"`
	Description string               `db:"description" json:"description"`
	Status      {{.SampleAPIName}}Status `db:"status" json:"status"`
	CreatedAt   time.Time            `db:"created_at" json:"created_at"`
	UpdatedAt   time.Time            `db:"updated_at" json:"updated_at"`
}

// IsActive checks if the {{.SampleAPINameLower}} is active
func (e *{{.SampleAPIName}}) IsActive() bool {
	return e.Status == {{.SampleAPIName}}StatusActive
}

// MarkAsActive sets the {{.SampleAPINameLower}} status to active
func (e *{{.SampleAPIName}}) MarkAsActive() {
	e.Status = {{.SampleAPIName}}StatusActive
	e.UpdatedAt = time.Now()
}

// MarkAsInactive sets the {{.SampleAPINameLower}} status to inactive
func (e *{{.SampleAPIName}}) MarkAsInactive() {
	e.Status = {{.SampleAPIName}}StatusInactive
	e.UpdatedAt = time.Now()
}

// MarkAsArchived sets the {{.SampleAPINameLower}} status to archived
func (e *{{.SampleAPIName}}) MarkAsArchived() {
	e.Status = {{.SampleAPIName}}StatusArchived
	e.UpdatedAt = time.Now()
}
